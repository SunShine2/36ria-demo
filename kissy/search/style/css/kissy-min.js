/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 17 10:22
*/
(function(b,k,s){if(b[k]===s)b[k]={};k=b[k];var q=b.document,l=location,p=function(e,o,i,h){if(!o||!e)return e;if(i===s)i=true;var f,a,c;if(h&&(c=h.length))for(f=0;f<c;f++){a=h[f];if(a in o)if(i||!(a in e))e[a]=o[a]}else for(a in o)if(i||!(a in e))e[a]=o[a];return e},n=false,g=[],v=false,z=/^#?([\w-]+)$/,u=0;p(k,{version:"1.1.4",__init:function(){this.Env={mods:{},_loadQueue:{}};var e=q.getElementsByTagName("script");this.Config={debug:"",base:e[e.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(e){v||this._bindReady();n?e.call(b,this):g.push(e);return this},_bindReady:function(){var e=this,o=q.documentElement.doScroll,i=o?"onreadystatechange":"DOMContentLoaded",h=function(){e._fireReady()};v=true;if(q.readyState==="complete")return h();if(q.addEventListener){var f=function(){q.removeEventListener(i,f,false);h()};q.addEventListener(i,f,false);b.addEventListener("load",h,false)}else{var a=function(){if(q.readyState==="complete"){q.detachEvent(i,a);h()}};q.attachEvent(i,
a);b.attachEvent("onload",h);if(b==b.top){var c=function(){try{o("left");h()}catch(j){setTimeout(c,1)}};c()}}},_fireReady:function(){if(!n){n=true;if(g){for(var e,o=0;e=g[o++];)e.call(b,this);g=null}}},available:function(e,o){if((e=(e+"").match(z)[1])&&k.isFunction(o))var i=1,h=k.later(function(){if(q.getElementById(e)&&(o()||1)||++i>500)h.cancel()},40,true)},mix:p,merge:function(){var e={},o,i=arguments.length;for(o=0;o<i;++o)p(e,arguments[o]);return e},augment:function(){var e=arguments,o=e.length-
2,i=e[0],h=e[o],f=e[o+1],a=1;if(!k.isArray(f)){h=f;f=s;o++}if(!k.isBoolean(h)){h=s;o++}for(;a<o;a++)p(i.prototype,e[a].prototype||e[a],h,f);return i},extend:function(e,o,i,h){if(!o||!e)return e;var f=Object.prototype,a=o.prototype,c=function(j){function m(){}m.prototype=j;return new m}(a);e.prototype=c;c.constructor=e;e.superclass=a;if(o!==Object&&a.constructor===f.constructor)a.constructor=o;i&&p(c,i);h&&p(e,h);return e},namespace:function(){var e=arguments,o=e.length,i=null,h,f,a,c=e[o-1]===true&&
o--;for(h=0;h<o;++h){a=(""+e[h]).split(".");i=c?b:this;for(f=b[a[0]]===i?1:0;f<a.length;++f)i=i[a[f]]=i[a[f]]||{}}return i},app:function(e,o){var i=k.isString(e),h=i?b[e]||{}:e;p(h,this,true,k.__APP_MEMBERS);h.__init();p(h,k.isFunction(o)?o():o);i&&(b[e]=h);return h},log:function(e,o,i){if(k.Config.debug){if(i)e=i+": "+e;if(b.console!==s&&console.log)console[o&&console[o]?o:"log"](e)}},error:function(e){if(k.Config.debug)throw e;},guid:function(e){var o=u++ +"";return e?e+o:o}});k.__init();k.__APP_MEMBERS=
["__init","namespace"];if(l&&(l.search||"").indexOf("ks-debug")!==-1)k.Config.debug=true})(window,"KISSY");
(function(b,k,s){function q(d){var t=typeof d;return d===null||t!=="object"&&t!=="function"}function l(d){return g.slice.call(d)}var p=document,n=p.documentElement,g=Array.prototype,v=g.indexOf,z=g.lastIndexOf,u=g.filter,e=String.prototype.trim,o=Object.prototype.toString,i=encodeURIComponent,h=decodeURIComponent,f=i("[]"),a=/^\s+|\s+$/g,c=/^(\w+)\[\]$/,j=/\S/;k.mix(k,{isUndefined:function(d){return d===s},isBoolean:function(d){return o.call(d)==="[object Boolean]"},isString:function(d){return o.call(d)===
"[object String]"},isNumber:function(d){return o.call(d)==="[object Number]"&&isFinite(d)},isPlainObject:function(d){return d&&o.call(d)==="[object Object]"&&!d.nodeType&&!d.setInterval},isEmptyObject:function(d){for(var t in d)return false;return true},isFunction:function(d){return o.call(d)==="[object Function]"},isArray:function(d){return o.call(d)==="[object Array]"},trim:e?function(d){return d==s?"":e.call(d)}:function(d){return d==s?"":d.toString().replace(a,"")},substitute:function(d,t,w){if(!k.isString(d)||
!k.isPlainObject(t))return d;return d.replace(w||/\\?\{([^{}]+)\}/g,function(r,x){if(r.charAt(0)==="\\")return r.slice(1);return t[x]!==s?t[x]:""})},each:function(d,t,w){var r,x=0,y=d.length,A=y===s||k.isFunction(d);w=w||b;if(A)for(r in d){if(t.call(w,d[r],r,d)===false)break}else for(r=d[0];x<y&&t.call(w,r,x,d)!==false;r=d[++x]);return d},indexOf:v?function(d,t){return v.call(t,d)}:function(d,t){for(var w=0,r=t.length;w<r;++w)if(t[w]===d)return w;return-1},lastIndexOf:z?function(d,t){return z.call(t,
d)}:function(d,t){for(var w=t.length-1;w>=0;w--)if(t[w]===d)break;return w},unique:function(d,t){t&&d.reverse();for(var w=d.slice(),r=0,x,y;r<w.length;){for(y=w[r];(x=k.lastIndexOf(y,w))!==r;)w.splice(x,1);r+=1}t&&w.reverse();return w},inArray:function(d,t){return k.indexOf(d,t)>-1},makeArray:function(d){if(d===null||d===s)return[];if(k.isArray(d))return d;if(typeof d.length!=="number"||k.isString(d)||k.isFunction(d))return[d];return l(d)},filter:u?function(d,t,w){return u.call(d,t,w)}:function(d,
t,w){var r=[];k.each(d,function(x,y,A){t.call(w,x,y,A)&&r.push(x)});return r},param:function(d,t){if(!k.isPlainObject(d))return"";t=t||"&";var w=[],r,x;for(r in d){x=d[r];r=i(r);if(q(x))w.push(r,"=",i(x+""),t);else if(k.isArray(x)&&x.length)for(var y=0,A=x.length;y<A;++y)q(x[y])&&w.push(r,f+"=",i(x[y]+""),t)}w.pop();return w.join("")},unparam:function(d,t){if(typeof d!=="string"||(d=k.trim(d)).length===0)return{};for(var w={},r=d.split(t||"&"),x,y,A,B,D=0,C=r.length;D<C;++D){x=r[D].split("=");y=h(x[0]);
try{A=h(x[1]||"")}catch(E){A=x[1]||""}if((B=y.match(c))&&B[1]){w[B[1]]=w[B[1]]||[];w[B[1]].push(A)}else w[y]=A}return w},later:function(d,t,w,r,x){t=t||0;r=r||{};var y=d,A=k.makeArray(x),B;if(k.isString(d))y=r[d];y||k.error("method undefined");d=function(){y.apply(r,A)};B=w?setInterval(d,t):setTimeout(d,t);return{id:B,interval:w,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(d){var t=d,w,r;if(d&&((w=k.isArray(d))||k.isPlainObject(d))){t=w?[]:{};for(r in d)if(d.hasOwnProperty(r))t[r]=
k.clone(d[r])}return t},now:function(){return(new Date).getTime()},globalEval:function(d){if(d&&j.test(d)){var t=p.getElementsByTagName("head")[0]||n,w=p.createElement("script");w.text=d;t.insertBefore(w,t.firstChild);t.removeChild(w)}}});try{l(n.childNodes)}catch(m){l=function(d){for(var t=[],w=d.length-1;w>=0;w--)t[w]=d[w];return t}}})(window,KISSY);
(function(b,k,s){var q=b.document,l=q.getElementsByTagName("head")[0]||q.documentElement,p=2,n=3,g=4,v=k.mix,z=q.createElement("script").readyState?function(e,o){var i=e.onreadystatechange;e.onreadystatechange=function(){var h=e.readyState;if(h==="loaded"||h==="complete"){e.onreadystatechange=null;i&&i();o.call(this)}}}:function(e,o){e.addEventListener("load",o,false)},u=/\.css(?:\?|$)/i;b={add:function(e,o,i){var h=this.Env.mods,f;if(k.isString(e)&&!i&&k.isPlainObject(o)){f={};f[e]=o;e=f}if(k.isPlainObject(e)){k.each(e,
function(a,c){a.name=c;h[c]&&v(a,h[c],false)});v(h,e)}else{i=i||{};f=h[e]||{};e=i.host||f.host||e;f=h[e]||{};v(f,{name:e,status:p});if(!f.fns)f.fns=[];o&&f.fns.push(o);v(h[e]=f,i);f.attach!==false&&this.__isAttached(f.requires)&&this.__attachMod(f)}return this},use:function(e,o,i){e=e.replace(/\s+/g,"").split(",");i=i||{};var h=this,f=h.Env.mods,a=(i||0).global,c,j=e.length,m,d,t;a&&h.__mixMods(a);if(h.__isAttached(e))o&&o(h);else{for(c=0;c<j&&(m=f[e[c]]);c++)if(m.status!==g){if(i.order&&c>0){if(!m.requires)m.requires=
[];m._requires=m.requires.concat();d=e[c-1];if(!k.inArray(d,m.requires)&&!k.inArray(m.name,f[d].requires||[]))m.requires.push(d)}h.__attach(m,function(){if(!t&&h.__isAttached(e)){t=true;if(m._requires)m.requires=m._requires;o&&o(h)}},a)}return h}},__attach:function(e,o,i){function h(){if(f.__isAttached(a)){e.status===p&&f.__attachMod(e);e.status===g&&o()}}for(var f=this,a=e.requires||[],c=0,j=a.length;c<j;c++)f.__attach(f.Env.mods[a[c]],h,i);f.__buildPath(e);f.__load(e,h,i)},__mixMods:function(e){var o=
this.Env.mods,i=e.Env.mods,h;for(h in i)this.__mixMod(o,i,h,e)},__mixMod:function(e,o,i,h){var f=e[i]||{},a=f.status;k.mix(f,k.clone(o[i]));if(a)f.status=a;h&&this.__buildPath(f,h.Config.base);e[i]=f},__attachMod:function(e){var o=this;if(e.fns){k.each(e.fns,function(i){i&&i(o)});e.fns=s}e.status=g},__isAttached:function(e){for(var o=this.Env.mods,i,h=(e=k.makeArray(e)).length-1;h>=0&&(i=o[e[h]]);h--)if(i.status!==g)return false;return true},__load:function(e,o,i){function h(){c[a]=p;if(e.status!==
n){i&&f.__mixMod(f.Env.mods,i.Env.mods,e.name,i);if(e.status!==g)e.status=p;o()}}var f=this,a=e.fullpath,c=k.Env._loadQueue,j=c[a];e.status=e.status||0;if(e.status<1&&j)e.status=j.nodeName?1:p;if(k.isString(e.cssfullpath)){f.getScript(e.cssfullpath);e.cssfullpath=p}if(e.status<1&&a){e.status=1;j=f.getScript(a,{success:function(){KISSY.log(e.name+" is loaded.","info");h()},error:function(){e.status=n;c[a]=p},charset:e.charset});u.test(a)||(c[a]=j)}else e.status===1?z(j,h):o()},__buildPath:function(e,
o){function i(f,a){if(!e[a]&&e[f])e[a]=(o||h.base)+e[f];if(e[a]&&h.debug)e[a]=e[a].replace(/-min/g,"")}var h=this.Config;i("path","fullpath");e.cssfullpath!==p&&i("csspath","cssfullpath")},getScript:function(e,o,i){var h=u.test(e),f=q.createElement(h?"link":"script"),a=o,c,j,m;if(k.isPlainObject(a)){o=a.success;c=a.error;j=a.timeout;i=a.charset}if(h){f.href=e;f.rel="stylesheet"}else{f.src=e;f.async=true}if(i)f.charset=i;if(k.isFunction(o))h?o.call(f):z(f,function(){if(m){m.cancel();m=s}o.call(f)});
if(k.isFunction(c))m=k.later(function(){m=s;c()},(j||this.Config.timeout)*1E3);l.insertBefore(f,l.firstChild);return f}};v(k,b);k.each(b,function(e,o){k.__APP_MEMBERS.push(o)})})(window,KISSY);(function(b){var k={core:{path:"packages/core-min.js",charset:"utf-8"}};b.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(s){k[s]={path:s+"/"+s+"-pkg-min.js",requires:["core"],charset:"utf-8"}});k.calendar.csspath="calendar/default-min.css";b.add(k)})(KISSY);
KISSY.add("ua",function(b){var k=navigator.userAgent,s="",q="",l,p={},n=function(g){var v=0;return parseFloat(g.replace(/\./g,function(){return v++===0?".":""}))};if((l=k.match(/AppleWebKit\/([\d.]*)/))&&l[1]){p[s="webkit"]=n(l[1]);if((l=k.match(/Chrome\/([\d.]*)/))&&l[1])p[q="chrome"]=n(l[1]);else if((l=k.match(/\/([\d.]*) Safari/))&&l[1])p[q="safari"]=n(l[1]);if(/ Mobile\//.test(k))p.mobile="apple";else if(l=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))p.mobile=l[0].toLowerCase()}else if((l=
k.match(/Presto\/([\d.]*)/))&&l[1]){p[s="presto"]=n(l[1]);if((l=k.match(/Opera\/([\d.]*)/))&&l[1]){p[q="opera"]=n(l[1]);if((l=k.match(/Opera\/.* Version\/([\d.]*)/))&&l[1])p[q]=n(l[1]);if((l=k.match(/Opera Mini[^;]*/))&&l)p.mobile=l[0].toLowerCase();else if((l=k.match(/Opera Mobi[^;]*/))&&l)p.mobile=l[0]}}else if((l=k.match(/MSIE\s([^;]*)/))&&l[1]){p[s="trident"]=0.1;p[q="ie"]=n(l[1]);if((l=k.match(/Trident\/([\d.]*)/))&&l[1])p[s]=n(l[1])}else if(l=k.match(/Gecko/)){p[s="gecko"]=0.1;if((l=k.match(/rv:([\d.]*)/))&&
l[1])p[s]=n(l[1]);if((l=k.match(/Firefox\/([\d.]*)/))&&l[1])p[q="firefox"]=n(l[1])}p.core=s;p.shell=q;p._numberify=n;b.UA=p});
KISSY.add("ua-extra",function(b){var k=b.UA,s=navigator.userAgent,q,l,p={},n=k._numberify;if(s.match(/360SE/))p[l="se360"]=3;else if(s.match(/Maxthon/)&&(q=window.external)){l="maxthon";try{p[l]=n(q.max_version)}catch(g){p[l]=0.1}}else if(q=s.match(/TencentTraveler\s([\d.]*)/))p[l="tt"]=q[1]?n(q[1]):0.1;else if(s.match(/TheWorld/))p[l="theworld"]=3;else if(q=s.match(/SE\s([\d.]*)/))p[l="sougou"]=q[1]?n(q[1]):0.1;l&&(p.shell=l);b.mix(k,p)});
KISSY.add("dom",function(b,k){function s(q,l){return q&&q.nodeType===l}b.DOM={_isElementNode:function(q){return s(q,1)},_isKSNode:function(q){return b.Node&&s(q,b.Node.TYPE)},_getWin:function(q){return q&&"scrollTo"in q&&q.document?q:s(q,9)?q.defaultView||q.parentWindow:q===k?window:false},_nodeTypeIs:s}});
KISSY.add("selector",function(b,k){function s(a,c){var j,m,d=[],t;c=q(c);if(b.isString(a)){a=b.trim(a);if(h.test(a)){if(m=l(a.slice(1),c))d=[m]}else if(j=f.exec(a)){m=j[1];t=j[2];j=j[3];if(c=m?l(m,c):c)if(j)if(!m||a.indexOf(u)!==-1)d=n(j,t,c);else{if((m=l(m,c))&&z.hasClass(m,j))d=[m]}else if(t)d=p(t,c)}else if(b.ExternalSelector)return b.ExternalSelector(a,c);else g(a)}else if(a&&(a[o]||a[i]))d=a[o]?[a[o]()]:a[i]();else if(a&&(b.isArray(a)||a&&!a.nodeType&&a.item&&a!=window))d=a;else if(a)d=[a];if(d&&
!d.nodeType&&d.item&&d!=window)d=b.makeArray(d);d.each=function(w,r){return b.each(d,w,r)};return d}function q(a){if(a===k)a=v;else if(b.isString(a)&&h.test(a))a=l(a.slice(1),v);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function l(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function p(a,c){return c.getElementsByTagName(a)}function n(a,c,j){j=a=j.getElementsByClassName(a);var m=0,d=0,t=a.length,w;if(c&&c!==e){j=[];for(c=c.toUpperCase();m<t;++m){w=a[m];if(w.tagName===
c)j[d++]=w}}return j}function g(a){b.error("Unsupported selector: "+a)}var v=document,z=b.DOM,u=" ",e="*",o="getDOMNode",i=o+"s",h=/^#[\w-]+$/,f=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=v.createElement("div");a.appendChild(v.createComment(""));if(a.getElementsByTagName(e).length>0)p=function(c,j){var m=j.getElementsByTagName(c);if(c===e){for(var d=[],t=0,w=0,r;r=m[t++];)if(r.nodeType===1)d[w++]=r;m=d}return m}})();v.getElementsByClassName||(n=v.querySelectorAll?function(a,c,
j){return j.querySelectorAll((c?c:"")+"."+a)}:function(a,c,j){c=j.getElementsByTagName(c||e);j=[];var m=0,d=0,t=c.length,w,r;for(a=u+a+u;m<t;++m){w=c[m];if((r=w.className)&&(u+r+u).indexOf(a)>-1)j[d++]=w}return j});b.query=s;b.get=function(a,c){return s(a,c)[0]||null};b.mix(z,{query:s,get:b.get,filter:function(a,c){var j=s(a),m,d,t,w=[];if(b.isString(c)&&(m=f.exec(c))&&!m[1]){d=m[2];t=m[3];c=function(r){return!(d&&r.tagName!==d.toUpperCase()||t&&!z.hasClass(r,t))}}if(b.isFunction(c))w=b.filter(j,
c);else if(c&&b.ExternalSelector)w=b.ExternalSelector._filter(a,c);else g(c);return w},test:function(a,c){var j=s(a);return z.filter(j,c).length===j.length}})});
KISSY.add("dom-data",function(b,k){var s=window,q=b.DOM,l="_ks_data_"+b.now(),p={},n={},g={EMBED:1,OBJECT:1,APPLET:1};b.mix(q,{data:function(v,z,u){if(b.isPlainObject(z))for(var e in z)q.data(v,e,z[e]);else if(u===k){v=b.get(v);var o;if(!(!v||g[v.nodeName])){if(v==s)v=n;o=(e=v&&v.nodeType)?p:v;v=o[e?v[l]:l];if(b.isString(z)&&v)return v[z];return v}}else b.query(v).each(function(i){if(!(!i||g[i.nodeName])){if(i==s)i=n;var h=p,f;if(i&&i.nodeType){if(!(f=i[l]))f=i[l]=b.guid()}else{f=l;h=i}if(z&&u!==
k){h[f]||(h[f]={});h[f][z]=u}}})},removeData:function(v,z){b.query(v).each(function(u){if(u){if(u==s)u=n;var e,o=p,i,h=u&&u.nodeType;if(h)e=u[l];else{o=u;e=l}if(e){i=o[e];if(z){if(i){delete i[z];b.isEmptyObject(i)&&q.removeData(u)}}else{if(h)u.removeAttribute&&u.removeAttribute(l);else try{delete u[l]}catch(f){}h&&delete o[e]}}}})}})});
KISSY.add("dom-class",function(b,k){function s(n,g,v,z){if(!(g=b.trim(g)))return z?false:k;n=b.query(n);var u=0,e=n.length;g=g.split(l);for(var o;u<e;u++){o=n[u];if(q._isElementNode(o)){o=v(o,g,g.length);if(o!==k)return o}}if(z)return false}var q=b.DOM,l=/[\.\s]\s*\.?/,p=/[\n\t]/g;b.mix(q,{hasClass:function(n,g){return s(n,g,function(v,z,u){if(v=v.className){v=" "+v+" ";for(var e=0,o=true;e<u;e++)if(v.indexOf(" "+z[e]+" ")<0){o=false;break}if(o)return true}},true)},addClass:function(n,g){s(n,g,function(v,
z,u){var e=v.className;if(e){var o=" "+e+" ";e=e;for(var i=0;i<u;i++)if(o.indexOf(" "+z[i]+" ")<0)e+=" "+z[i];v.className=b.trim(e)}else v.className=g})},removeClass:function(n,g){s(n,g,function(v,z,u){var e=v.className;if(e)if(u){e=(" "+e+" ").replace(p," ");for(var o=0,i;o<u;o++)for(i=" "+z[o]+" ";e.indexOf(i)>=0;)e=e.replace(i," ");v.className=b.trim(e)}else v.className=""})},replaceClass:function(n,g,v){q.removeClass(n,g);q.addClass(n,v)},toggleClass:function(n,g,v){var z=b.isBoolean(v),u;s(n,
g,function(e,o,i){for(var h=0,f;h<i;h++){f=o[h];u=z?!v:q.hasClass(e,f);q[u?"removeClass":"addClass"](e,f)}})}})});
KISSY.add("dom-attr",function(b,k){var s=b.UA,q=s.ie,l=q&&q<8,p=document.documentElement.textContent!==k?"textContent":"innerText",n=b.DOM,g=n._isElementNode,v=/href|src|style/,z=/href|src|colspan|rowspan/,u=/\r/g,e=/radio|checkbox/,o={readonly:"readOnly"},i={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};l&&b.mix(o,{"for":"htmlFor","class":"className"});b.mix(n,{attr:function(h,f,a,c){if(b.isPlainObject(f)){c=a;for(var j in f)n.attr(h,j,f[j],c)}else if(f=b.trim(f)){f=f.toLowerCase();
if(c&&i[f])return n[f](h,a);f=o[f]||f;if(a===k){h=b.get(h);if(!g(h))return k;var m;v.test(f)||(m=h[f]);if(m===k)m=h.getAttribute(f);if(l)if(z.test(f))m=h.getAttribute(f,2);else if(f==="style")m=h.style.cssText;return m===null?k:m}b.each(b.query(h),function(d){if(g(d))if(f==="style")d.style.cssText=a;else{if(f==="checked")d[f]=!!a;d.setAttribute(f,""+a)}})}},removeAttr:function(h,f){b.each(b.query(h),function(a){if(g(a)){n.attr(a,f,"");a.removeAttribute(f)}})},val:function(h,f){if(f===k){var a=b.get(h);
if(!g(a))return k;if(a&&a.nodeName.toUpperCase()==="option".toUpperCase())return(a.attributes.value||{}).specified?a.value:a.text;if(a&&a.nodeName.toUpperCase()==="select".toUpperCase()){var c=a.selectedIndex,j=a.options;if(c<0)return null;else if(a.type==="select-one")return n.val(j[c]);a=[];for(var m=0,d=j.length;m<d;++m)j[m].selected&&a.push(n.val(j[m]));return a}if(s.webkit&&e.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(u,"")}b.each(b.query(h),function(t){if(t&&
t.nodeName.toUpperCase()==="select".toUpperCase()){if(b.isNumber(f))f+="";var w=b.makeArray(f),r=t.options,x;m=0;for(d=r.length;m<d;++m){x=r[m];x.selected=b.inArray(n.val(x),w)}if(!w.length)t.selectedIndex=-1}else if(g(t))t.value=f})},text:function(h,f){if(f===k){var a=b.get(h);if(g(a))return a[p]||"";else if(n._nodeTypeIs(a,3))return a.nodeValue}else b.each(b.query(h),function(c){if(g(c))c[p]=f;else if(n._nodeTypeIs(c,3))c.nodeValue=f})}})});
KISSY.add("dom-style",function(b,k){function s(a,c){var j=b.get(a),m=c===v?j.offsetWidth:j.offsetHeight;b.each(c===v?["Left","Right"]:["Top","Bottom"],function(d){m-=parseFloat(l._getComputedStyle(j,"padding"+d))||0;m-=parseFloat(l._getComputedStyle(j,"border"+d+"Width"))||0});return m}function q(a,c,j){var m=j;if(j===z&&e.test(c)){m=0;if(l.css(a,"position")==="absolute"){j=a[c==="left"?"offsetLeft":"offsetTop"];if(p.ie===8||p.opera)j-=u(l.css(a.offsetParent,"border-"+c+"-width"))||0;m=j-(u(l.css(a,
"margin-"+c))||0)}}return m}var l=b.DOM,p=b.UA,n=document,g=n.documentElement,v="width",z="auto",u=parseInt,e=/^left|top$/,o=/width|height|top|left|right|bottom|margin|padding/i,i=/-([a-z])/ig,h=function(a,c){return c.toUpperCase()},f={};b.mix(l,{_CUSTOM_STYLES:f,_getComputedStyle:function(a,c){var j="",m=a.ownerDocument;if(a.style)j=m.defaultView.getComputedStyle(a,null)[c];return j},css:function(a,c,j){if(b.isPlainObject(c))for(var m in c)l.css(a,m,c[m]);else{if(c.indexOf("-")>0)c=c.replace(i,h);
c=f[c]||c;if(j===k){a=b.get(a);m="";if(a&&a.style){m=c.get?c.get(a):a.style[c];if(m===""&&!c.get)m=q(a,c,l._getComputedStyle(a,c))}return m===k?"":m}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&o.test(c))j+="px";(c===v||c==="height")&&parseFloat(j)<0||b.each(b.query(a),function(d){if(d&&d.style){c.set?c.set(d,j):d.style[c]=j;if(j==="")d.style.cssText||d.removeAttribute("style")}})}}},width:function(a,c){if(c===k)return s(a,v);else l.css(a,v,c)},height:function(a,c){if(c===k)return s(a,
"height");else l.css(a,"height",c)},show:function(a){b.query(a).each(function(c){if(c)c.style.display=l.data(c,"display")||""})},hide:function(a){b.query(a).each(function(c){if(c){var j=c.style,m=j.display;if(m!=="none"){m&&l.data(c,"display",m);j.display="none"}}})},toggle:function(a){b.query(a).each(function(c){if(c)c.style.display==="none"?l.show(c):l.hide(c)})},addStyleSheet:function(a,c){var j;if(c)j=b.get("#"+c);if(!j){j=l.create("<style>",{id:c});b.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=
a;else j.appendChild(n.createTextNode(a))}}});if(g.style.cssFloat!==k)f["float"]="cssFloat";else if(g.style.styleFloat!==k)f["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,k){if(b.UA.ie){var s=b.DOM,q=document,l=q.documentElement,p=s._CUSTOM_STYLES,n=/^-?\d+(?:px)?$/i,g=/^-?\d/,v=/^width|height$/;try{if(l.style.opacity===k&&l.filters)p.opacity={get:function(u){var e=100;try{e=u.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(o){try{e=u.filters("alpha").opacity}catch(i){}}return e/100+""},set:function(u,e){var o=u.style,i=(u.currentStyle||0).filter||"";o.zoom=1;if(i)if(i=i.replace(/alpha\(opacity=.+\)/ig,""))i+=", ";o.filter=
i+"alpha(opacity="+e*100+")"}}}catch(z){}if(!(q.defaultView||{}).getComputedStyle&&l.currentStyle)s._getComputedStyle=function(u,e){var o=u.style,i=u.currentStyle[e];if(v.test(e))i=s[e](u)+"px";else if(!n.test(i)&&g.test(i)){var h=o.left,f=u.runtimeStyle.left;u.runtimeStyle.left=u.currentStyle.left;o.left=e==="fontSize"?"1em":i||0;i=o.pixelLeft+"px";o.left=h;u.runtimeStyle.left=f}return i}}});
KISSY.add("dom-offset",function(b,k){function s(m){var d=0,t=0,w=z(m[i]);if(m[j]){m=m[j]();d=m[h];t=m[f];if(l.mobile!=="apple"){d+=q[a](w);t+=q[c](w)}}return{left:d,top:t}}var q=b.DOM,l=b.UA,p=window,n=document,g=q._isElementNode,v=q._nodeTypeIs,z=q._getWin,u=n.compatMode==="CSS1Compat",e=Math.max,o=parseInt,i="ownerDocument",h="left",f="top",a="scrollLeft",c="scrollTop",j="getBoundingClientRect";b.mix(q,{offset:function(m,d){if(!(m=b.get(m))||!m[i])return null;if(d===k)return s(m);var t=m;if(q.css(t,
"position")==="static")t.style.position="relative";var w=s(t),r={},x,y;for(y in d){x=o(q.css(t,y),10)||0;r[y]=x+d[y]-w[y]}q.css(t,r)},scrollIntoView:function(m,d,t,w){if((m=b.get(m))&&m[i]){w=w===k?true:!!w;t=t===k?true:!!t;if(!d||d===p)return m.scrollIntoView(t);d=b.get(d);if(v(d,9))d=z(d);var r=d&&"scrollTo"in d&&d.document,x=q.offset(m),y=r?{left:q.scrollLeft(d),top:q.scrollTop(d)}:q.offset(d),A={left:x[h]-y[h],top:x[f]-y[f]};x=r?q.viewportHeight(d):d.clientHeight;y=r?q.viewportWidth(d):d.clientWidth;
var B=q[a](d),D=q[c](d),C=B+y,E=D+x,H=m.offsetHeight;m=m.offsetWidth;var G=A.left+B-(o(q.css(d,"borderLeftWidth"))||0);A=A.top+D-(o(q.css(d,"borderTopWidth"))||0);var I=G+m,K=A+H,F,J;if(H>x||A<D||t)F=A;else if(K>E)F=K-x;if(w)if(m>y||G<B||t)J=G;else if(I>C)J=I-y;if(r){if(F!==k||J!==k)d.scrollTo(J,F)}else{if(F!==k)d[c]=F;if(J!==k)d[a]=J}}}});b.each(["Left","Top"],function(m,d){var t="scroll"+m;q[t]=function(w){var r=0,x=z(w),y;if(x&&(y=x.document))r=x[d?"pageYOffset":"pageXOffset"]||y.documentElement[t]||
y.body[t];else if(g(w=b.get(w)))r=w[t];return r}});b.each(["Width","Height"],function(m){q["doc"+m]=function(d){d=d||n;return e(u?d.documentElement["scroll"+m]:d.body["scroll"+m],q["viewport"+m](d))};q["viewport"+m]=function(d){var t="inner"+m;d=z(d);var w=d.document;return t in d?d[t]:u?w.documentElement["client"+m]:w.body["client"+m]}})});
KISSY.add("dom-traversal",function(b,k){function s(n,g,v,z){if(!(n=b.get(n)))return null;if(g===k)g=1;var u=null,e,o;if(b.isNumber(g)&&g>=0){if(g===0)return n;e=0;o=g;g=function(){return++e===o}}for(;n=n[v];)if(p(n)&&(!g||l.test(n,g))&&(!z||z(n))){u=n;break}return u}function q(n,g,v){var z=[];var u=n=b.get(n);if(n&&v)u=n.parentNode;if(u){v=0;for(u=u.firstChild;u;u=u.nextSibling)if(p(u)&&u!==n&&(!g||l.test(u,g)))z[v++]=u}return z}var l=b.DOM,p=l._isElementNode;b.mix(l,{parent:function(n,g){return s(n,
g,"parentNode",function(v){return v.nodeType!=11})},next:function(n,g){return s(n,g,"nextSibling")},prev:function(n,g){return s(n,g,"previousSibling")},siblings:function(n,g){return q(n,g,true)},children:function(n,g){return q(n,g)},contains:function(n,g){var v=false;if((n=b.get(n))&&(g=b.get(g)))if(n.contains)return n.contains(g);else if(n.compareDocumentPosition)return!!(n.compareDocumentPosition(g)&16);else for(;!v&&(g=g.parentNode);)v=g==n;return v}})});
KISSY.add("dom-create",function(b,k){function s(r){var x=r.cloneNode(true);if(g.ie<8)x.innerHTML=r.innerHTML;return x}function q(r,x,y,A){if(y){var B=b.guid("ks-tmp-"),D=RegExp(h);x+='<span id="'+B+'"></span>';b.available(B,function(){var C=b.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(x);)if((G=(H=E[1])?H.match(a):false)&&G[2]){E=p.createElement("script");E.src=G[2];if((I=H.match(c))&&I[2])E.charset=I[2];E.async=true;C.appendChild(E)}else if((F=E[2])&&F.length>0)b.globalEval(F);(K=p.getElementById(B))&&
n.remove(K);b.isFunction(A)&&A()});l(r,x)}else{l(r,x);b.isFunction(A)&&A()}}function l(r,x){x=(x+"").replace(h,"");try{r.innerHTML=x}catch(y){for(;r.firstChild;)r.removeChild(r.firstChild);x&&r.appendChild(n.create(x))}}var p=document,n=b.DOM,g=b.UA,v=g.ie,z=n._nodeTypeIs,u=n._isElementNode,e=n._isKSNode,o=p.createElement("div"),i=/<(\w+)/,h=/<script([^>]*)>([\s\S]*?)<\/script>/ig,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,a=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;b.mix(n,{create:function(r,x,y){if(z(r,
1)||z(r,3))return s(r);if(e(r))return s(r[0]);if(!(r=b.trim(r)))return null;var A=null;A=n._creators;var B,D="div",C;if(B=f.exec(r))A=(y||p).createElement(B[1]);else{if((B=i.exec(r))&&(C=B[1])&&b.isFunction(A[C=C.toLowerCase()]))D=C;r=A[D](r,y).childNodes;if(r.length===1)y=r[0].parentNode.removeChild(r[0]);else{r=r;C=y||p;y=null;if(r&&(r.push||r.item)&&r[0]){C=C||r[0].ownerDocument;y=C.createDocumentFragment();if(r.item)r=b.makeArray(r);C=0;for(A=r.length;C<A;C++)y.appendChild(r[C])}y=y}A=y}y=A;u(y)&&
b.isPlainObject(x)&&n.attr(y,x,true);return y},_creators:{div:function(r,x){var y=x?x.createElement("div"):o;y.innerHTML=r;return y}},html:function(r,x,y,A){if(x===k){r=b.get(r);if(u(r))return r.innerHTML}else b.each(b.query(r),function(B){u(B)&&q(B,x,y,A)})},remove:function(r){b.each(b.query(r),function(x){u(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(g.gecko||v){var j=n._creators,m=n.create,d=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,t={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"};for(var w in t)(function(r){j[w]=function(x,y){return m("<"+r+">"+x+"</"+r+">",null,y)}})(t[w]);if(v){j.script=function(r,x){var y=x?x.createElement("div"):o;y.innerHTML="-"+r;y.removeChild(y.firstChild);return y};if(v<8)j.tbody=function(r,x){var y=m("<table>"+r+"</table>",null,x),A=y.children.tags("tbody")[0];y.children.length>1&&A&&!d.test(r)&&A.parentNode.removeChild(A);return y}}b.mix(j,{optgroup:j.option,th:j.td,thead:j.tbody,tfoot:j.tbody,caption:j.tbody,
colgroup:j.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(k,s){if((k=b.get(k))&&(s=b.get(s))&&s.parentNode)s.parentNode.insertBefore(k,s);return k},insertAfter:function(k,s){if((k=b.get(k))&&(s=b.get(s))&&s.parentNode)s.nextSibling?s.parentNode.insertBefore(k,s.nextSibling):s.parentNode.appendChild(k);return k}})});
KISSY.add("event",function(b,k){function s(h,f,a,c,j){if(b.isString(f))f=b.query(f);if(b.isArray(f)){b.each(f,function(m){i[h](m,a,c,j)});return true}if((a=b.trim(a))&&a.indexOf(u)>0){b.each(a.split(u),function(m){i[h](f,m,c,j)});return true}}function q(h,f){l(h)&&n.data(h,z,f)}function l(h){return h&&h.nodeType!==3&&h.nodeType!==8}var p=document,n=b.DOM,g=p.addEventListener?function(h,f,a,c){h.addEventListener&&h.addEventListener(f,a,!!c)}:function(h,f,a){h.attachEvent&&h.attachEvent("on"+f,a)},
v=p.removeEventListener?function(h,f,a,c){h.removeEventListener&&h.removeEventListener(f,a,!!c)}:function(h,f,a){h.detachEvent&&h.detachEvent("on"+f,a)},z="ksEventTargetId",u=" ",e=b.now(),o={},i={EVENT_GUID:z,special:{},add:function(h,f,a,c){if(!s("add",h,f,a,c)){var j=l(h)?n.data(h,z):-1,m,d,t,w,r;if(!(j===-1||!f||!b.isFunction(a))){if(!j){q(h,j=e++);o[j]={target:h,events:{}}}d=o[j].events;if(!d[f]){m=((j=!h.isCustomEventTarget)||h._supportSpecialEvent)&&i.special[f]||{};t=function(x,y){if(!x||
!x.fixed){x=new b.EventObject(h,x,f);b.isPlainObject(y)&&b.mix(x,y)}m.setup&&m.setup(x);return(m.handle||i._handle)(h,x,d[f].listeners)};d[f]={handle:t,listeners:[]};w=m.fix||f;r=m.capture;if(j)g(h,w,t,r);else h._addEvent&&h._addEvent(w,t,r)}d[f].listeners.push({fn:a,scope:c||h})}}},remove:function(h,f,a,c){if(!s("remove",h,f,a,c)){var j=l(h)?n.data(h,z):-1,m,d,t,w,r,x,y;if(j!==-1)if(j&&(m=o[j]))if(m.target===h){c=c||h;m=m.events||{};if(d=m[f]){t=d.listeners;x=t.length;if(b.isFunction(a)&&x){r=w=
0;for(y=[];w<x;++w)if(a!==t[w].fn||c!==t[w].scope)y[r++]=t[w];d.listeners=y;x=y.length}if(a===k||x===0){if(h.isCustomEventTarget)h._addEvent&&h._removeEvent(f,d.handle);else{a=i.special[f]||{};v(h,a.fix||f,d.handle)}delete m[f]}}if(f===k||b.isEmptyObject(m)){for(f in m)i.remove(h,f);delete o[j];n.removeData(h,z)}}}},_handle:function(h,f,a){a=a.slice(0);for(var c,j=0,m=a.length;j<m;++j){c=a[j];c=c.fn.call(c.scope||h,f);if(c===false&&h.isCustomEventTarget||f.isImmediatePropagationStopped)break}return c},
_getCache:function(h){return o[h]},_simpleAdd:g,_simpleRemove:v};i.on=i.add;b.Event=i});
KISSY.add("event-object",function(b,k){function s(p,n,g){this.currentTarget=p;this.originalEvent=n||{};if(n){this.type=n.type;this._fix()}else{this.type=g;this.target=p}this.currentTarget=p;this.fixed=true}var q=document,l="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(s,
{_fix:function(){var p=this.originalEvent,n=l.length,g,v=this.currentTarget;for(v=v.nodeType===9?v:v.ownerDocument||q;n;){g=l[--n];this[g]=p[g]}if(!this.target)this.target=this.srcElement||q;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===k&&this.clientX!==k){p=v.documentElement;n=v.body;this.pageX=this.clientX+(p&&p.scrollLeft||n&&n.scrollLeft||
0)-(p&&p.clientLeft||n&&n.clientLeft||0);this.pageY=this.clientY+(p&&p.scrollTop||n&&n.scrollTop||0)-(p&&p.clientTop||n&&n.clientTop||0)}if(this.which===k)this.which=this.charCode!==k?this.charCode:this.keyCode;if(this.metaKey===k)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==k)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var p=this.originalEvent;if(p.preventDefault)p.preventDefault();else p.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var p=
this.originalEvent;if(p.stopPropagation)p.stopPropagation();else p.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var p=this.originalEvent;p.stopImmediatePropagation?p.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(p){p?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=s});
KISSY.add("event-target",function(b,k){var s=b.Event;b.EventTarget={isCustomEventTarget:true,fire:function(q,l){var p=b.DOM.data(this,s.EVENT_GUID)||-1;if((p=((s._getCache(p)||{}).events||{})[q])&&b.isFunction(p.handle))return p.handle(k,l);return this},on:function(q,l,p){s.add(this,q,l,p);return this},detach:function(q,l,p){s.remove(this,q,l,p);return this}}});
KISSY.add("event-mouseenter",function(b){var k=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(s){k.special[s.name]={fix:s.fix,setup:function(q){q.type=s.name},handle:function(q,l,p){var n=l.relatedTarget;try{for(;n&&n!==q;)n=n.parentNode;n!==q&&k._handle(q,l,p)}catch(g){}}}})});
KISSY.add("event-focusin",function(b){var k=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){k.special[s.name]={fix:s.fix,capture:true,setup:function(q){q.type=s.name}}})});
KISSY.add("node",function(b){function k(l,p,n){var g;if(!(this instanceof k))return new k(l,p,n);if(l){if(b.isString(l))g=s.create(l,p,n);else if(q(l,1)||q(l,3))g=l;else if(l instanceof k)return l;this[0]=g}else this.length=0}var s=b.DOM,q=s._nodeTypeIs;k.TYPE="-ks-Node";b.augment(k,{length:1,getDOMNode:function(){return this[0]},nodeType:k.TYPE});b.one=function(l,p){var n=b.get(l,p);return n?new k(n):null};b.Node=k});
KISSY.add("nodelist",function(b){function k(l){if(!(this instanceof k))return new k(l);q.push.apply(this,l||[])}var s=b.DOM,q=Array.prototype;b.mix(k.prototype,{length:0,item:function(l){var p=null;if(s._isElementNode(this[l]))p=new b.Node(this[l]);return p},getDOMNodes:function(){return q.slice.call(this)},each:function(l,p){var n=this.length,g=0,v;for(v=new b.Node(this[0]);g<n&&l.call(p||v,v,g,this)!==false;v=new b.Node(this[++g]));return this}});b.all=function(l,p){return new k(b.query(l,p,true))};
b.NodeList=k});
KISSY.add("node-attach",function(b,k){function s(f,a,c,j){f=[this[f?e:u]()].concat(b.makeArray(a));if(a[c]===k)return j.apply(l,f);else{j.apply(l,f);return this}}function q(f,a){b.each(f,function(c){b.each([v,z],function(j,m){j[c]=function(d){switch(a){case o:return function(){return s.call(this,m,arguments,1,d)};case i:return function(){return s.call(this,m,arguments,0,d)};case h:return function(){var t=this[m?e:u]();return(t=d.apply(l,[t].concat(b.makeArray(arguments))))?new (b[b.isArray(t)?"NodeList":
"Node"])(t):null};default:return function(){var t=this[m?e:u]();t=d.apply(l,[t].concat(b.makeArray(arguments)));return t===k?this:t}}}(l[c])})})}var l=b.DOM,p=b.Event,n=l._nodeTypeIs,g=l._isKSNode,v=b.Node.prototype,z=b.NodeList.prototype,u="getDOMNode",e=u+"s",o=1,i=2,h=4;b.mix(v,{one:function(f){return b.one(f,this[0])},all:function(f){return b.all(f,this[0])}});q(["data","removeData"],o);q(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);q(["attr","removeAttr"],o);q(["val","text"],
i);q(["css"],o);q(["width","height"],i);q(["show","hide","toggle"]);q(["offset"],i);q(["scrollIntoView"]);q(["parent","next","prev","siblings","children"],h);q(["contains"]);q(["html"],i);q(["remove"]);b.each(["insertBefore","insertAfter"],function(f){v[f]=function(a){l[f].call(l,this[0],a);return this}});b.each([v,z],function(f,a){b.mix(f,{append:function(c){c&&b.each(this,function(j){var m;if(a||b.isString(c))m=l.create(c);else{if(n(c,1)||n(c,3))m=c;if(g(c))m=c[0]}j.appendChild(m)});return this},
appendTo:function(c){if((c=b.get(c))&&c.appendChild)b.each(this,function(j){c.appendChild(j)});return this}})});b.each([v,z],function(f){b.mix(f,b.EventTarget,{_supportSpecialEvent:true});f._addEvent=function(a,c,j){for(var m=0,d=this.length;m<d;m++)p._simpleAdd(this[m],a,c,j)};f._removeEvent=function(a,c,j){for(var m=0,d=this.length;m<d;m++)p._simpleRemove(this[m],a,c,j)};delete f.fire})});
KISSY.add("cookie",function(b){var k=document,s=encodeURIComponent,q=decodeURIComponent;b.Cookie={get:function(l){var p;if(b.isString(l)&&l!=="")if(l=k.cookie.match("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)"))p=l[1]?q(l[1]):"";return p},set:function(l,p,n,g,v,z){p=s(p);var u=n;if(typeof u==="number"){u=new Date;u.setTime(u.getTime()+n*864E5)}if(u instanceof Date)p+="; expires="+u.toUTCString();if(b.isString(g)&&g!=="")p+="; domain="+g;if(b.isString(v)&&v!=="")p+="; path="+v;if(z)p+="; secure";k.cookie=l+
"="+p},remove:function(l,p,n,g){this.set(l,"",0,p,n,g)}}});
KISSY.add("json",function(b){function k(u){return u<10?"0"+u:u}function s(u){p.lastIndex=0;return p.test(u)?'"'+u.replace(p,function(e){var o=v[e];return typeof o==="string"?o:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function q(u,e){var o,i,h,f,a=n,c,j=e[u];if(j&&typeof j==="object"&&typeof j.toJSON==="function")j=j.toJSON(u);if(typeof z==="function")j=z.call(e,u,j);switch(typeof j){case "string":return s(j);case "number":return isFinite(j)?String(j):"null";case "boolean":case "null":return String(j);
case "object":if(!j)return"null";n+=g;c=[];if(Object.prototype.toString.apply(j)==="[object Array]"){f=j.length;for(o=0;o<f;o+=1)c[o]=q(o,j)||"null";h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+a+"]":"["+c.join(",")+"]";n=a;return h}if(z&&typeof z==="object"){f=z.length;for(o=0;o<f;o+=1){i=z[o];if(typeof i==="string")if(h=q(i,j))c.push(s(i)+(n?": ":":")+h)}}else for(i in j)if(Object.hasOwnProperty.call(j,i))if(h=q(i,j))c.push(s(i)+(n?": ":":")+h);h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+
"\n"+a+"}":"{"+c.join(",")+"}";n=a;return h}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,g,v={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},z;if(typeof b.stringify!=="function")b.stringify=function(u,e,o){var i;g=n="";if(typeof o==="number")for(i=0;i<o;i+=1)g+=" ";else if(typeof o==="string")g=o;if((z=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw Error("JSON.stringify");return q("",{"":u})};
if(typeof b.parse!=="function")b.parse=function(u,e){function o(h,f){var a,c,j=h[f];if(j&&typeof j==="object")for(a in j)if(Object.hasOwnProperty.call(j,a)){c=o(j,a);if(c!==undefined)j[a]=c;else delete j[a]}return e.call(h,f,j)}var i;u=String(u);l.lastIndex=0;if(l.test(u))u=u.replace(l,function(h){return"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){i=eval("("+u+")");return typeof e==="function"?o({"":i},""):i}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var k=Math,s=k.PI,q=k.pow,l=k.sin,p=1.70158,n={easeNone:function(g){return g},easeIn:function(g){return g*g},easeOut:function(g){return(2-g)*g},easeBoth:function(g){return(g*=2)<1?0.5*g*g:0.5*(1- --g*(g-2))},easeInStrong:function(g){return g*g*g*g},easeOutStrong:function(g){return 1- --g*g*g*g},easeBothStrong:function(g){return(g*=2)<1?0.5*g*g*g*g:0.5*(2-(g-=2)*g*g*g)},elasticIn:function(g){if(g===0||g===1)return g;return-(q(2,10*(g-=1))*l((g-0.075)*2*s/0.3))},
elasticOut:function(g){if(g===0||g===1)return g;return q(2,-10*g)*l((g-0.075)*2*s/0.3)+1},elasticBoth:function(g){if(g===0||(g*=2)===2)return g;if(g<1)return-0.5*q(2,10*(g-=1))*l((g-0.1125)*2*s/0.45);return q(2,-10*(g-=1))*l((g-0.1125)*2*s/0.45)*0.5+1},backIn:function(g){if(g===1)g-=0.0010;return g*g*((p+1)*g-p)},backOut:function(g){return(g-=1)*g*((p+1)*g+p)+1},backBoth:function(g){if((g*=2)<1)return 0.5*g*g*(((p*=1.525)+1)*g-p);return 0.5*((g-=2)*g*(((p*=1.525)+1)*g+p)+2)},bounceIn:function(g){return 1-
n.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+0.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+0.9375:7.5625*(g-=2.625/2.75)*g+0.984375},bounceBoth:function(g){if(g<0.5)return n.bounceIn(g*2)*0.5;return n.bounceOut(g*2-1)*0.5+0.5}};b.Easing=n});
KISSY.add("anim",function(b,k){function s(i,h,f,a,c){if(i=b.get(i)){if(!(this instanceof s))return new s(i,h,f,a,c);var j=b.isPlainObject(f);h=h;this.domEl=i;if(b.isPlainObject(h))h=b.param(h,";").replace(/=/g,":");var m={},d=u.length,t;z.innerHTML='<div style="'+h+'"></div>';for(i=z.firstChild.style;d--;)if(t=i[u[d]])m[u[d]]=q(t);this.props=m;this.targetStyle=h;if(j)j=b.merge(o,f);else{j=b.clone(o);f&&(j.duration=v(f,10)||1);b.isString(a)&&(a=g[a]);b.isFunction(a)&&(j.easing=a);b.isFunction(c)&&
(j.complete=c)}this.config=j;b.isFunction(c)&&this.on(e,c)}}function q(i){var h=v(i);i=(i+"").replace(/^[-\d\.]+/,"");return isNaN(h)?{v:i,u:"",f:p}:{v:h,u:i,f:l}}function l(i,h,f){return(i+(h-i)*f).toFixed(3)}function p(i,h,f){for(var a=2,c,j,m=[],d=[];c=3,j=arguments[a-1],a--;)if(j.substr(0,4)==="rgb(")for(j=j.match(/\d+/g);c--;)m.push(~~j[c]);else if(j.substr(0,1)==="#"){if(j.length===4)j="#"+j.substr(1,1)+j.substr(1,1)+j.substr(2,1)+j.substr(2,1)+j.substr(3,1)+j.substr(3,1);for(;c--;)m.push(parseInt(j.substr(1+
c*2,2),16))}else return h;for(;c--;){a=~~(m[c+3]+(m[c]-m[c+3])*f);d.push(a<0?0:a>255?255:a)}return"rgb("+d.join(",")+")"}var n=b.DOM,g=b.Easing,v=parseFloat,z=n.create("<div>"),u="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
e="complete",o={duration:1,easing:g.easeNone};b.augment(s,b.EventTarget,{run:function(){var i=this,h=i.config,f=i.domEl,a=h.duration*1E3,c=h.easing,j=b.now(),m=j+a,d=i.props,t={},w;for(w in d)t[w]=q(n.css(f,w));if(i.fire("start")!==false){i.stop();i.timer=b.later(h=function(){var r=b.now(),x=r>m?1:(r-j)/a,y,A,B;for(w in d){y=t[w];A=d[w];if(A.v==0)A.u=y.u;if(y.u!==A.u)y.v=0;n.css(f,w,A.f(y.v,A.v,c(x))+A.u)}if(i.fire("step")===false||(B=r>m)){i.stop();B&&i.fire(e)}},13,true);h();return i}},stop:function(i){var h=
this.domEl,f=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=k}if(i){b.UA.ie&&f.indexOf("opacity")>-1&&n.css(h,"opacity",this.props.opacity.v);h.style.cssText+=";"+f;this.fire(e)}return this}});b.Anim=s});KISSY.add("anim-node-plugin",function(b,k){var s=b.Anim;b.each([b.Node.prototype,b.NodeList.prototype],function(q){q.animate=function(){var l=b.makeArray(arguments);b.each(this,function(p){s.apply(k,[p].concat(l)).run()});return this}})});KISSY.add("core");
